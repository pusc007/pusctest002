(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{429:function(t,a,e){},460:function(t,a,e){"use strict";e(429)},466:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-sheet",{staticClass:"content"},[t.infoLoading?t._e():[e("Header"),t._v(" "),e("v-main",{staticClass:"main vh-100"},[e("v-container",{staticClass:"d-flex justify-center align-center",attrs:{"fill-height":"",fluid:""}},[e("div",{staticClass:"d-flex flex-column w-100 max-w-400"},[e("div",{staticClass:"d-flex justify-center ma-4"},[t._v("填寫聯絡資訊")]),t._v(" "),e("div",t._l(t.items,(function(a,i){return e("TableItem",{key:"item"+i,staticClass:"pa-1",attrs:{data:t.data,items:t.items,name:i,item:a}})})),1),t._v(" "),e("v-btn",{staticClass:"cyan white--text",attrs:{depressed:""},on:{click:t.confirmBtn_click}},[t._v("確定")])],1)]),t._v(" "),e("v-overlay",{attrs:{value:t.loading}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[t._v("登入中...")])],1)],1)],t._v(" "),e("v-overlay",{attrs:{value:t.infoLoading}},[e("v-progress-circular",{attrs:{indeterminate:"",size:"64"}},[t._v("載入資訊中...")])],1)],2)};i._withStripped=!0;var n=e(402),o=e(430),c=e(410),r=e(420),s=e(399),d=e(405),l=e(400),u={mixins:[r.validationMixin,l.a],components:{Header:n.a,TableItem:o.a},validations:{data:{contactName:{required:c.b},contactPhone:{required:c.b},contactEmail:{required:c.b,emailFormat:c.a}}},data:function(){var t=this;return{infoLoading:!1,logo:d.a,data:{},items:{contactName:{label:"聯絡姓名",errors:function(a){if(t.$v.data[a].$dirty)return t.$v.data[a].required?void 0:"請填寫這個欄位。"}},contactPhone:{label:"聯絡電話",errors:function(a){if(t.$v.data[a].$dirty)return t.$v.data[a].required?void 0:"請填寫這個欄位。"}},contactEmail:{label:"聯絡電子信箱",errors:function(a){if(t.$v.data[a].$dirty)return t.$v.data[a].required?t.$v.data[a].emailFormat?void 0:"格式錯誤 XXX@XXX.XXX":"請填寫這個欄位。"}}},loading:!1}},mounted:function(){var t=this;this.$store.state.info?this.init(this.$store.state.info):(this.infoLoading=!0,Object(s.j)(this.$store.state.token).then((function(a){t.infoLoading=!1,t.$store.dispatch("setInfo",a),t.$store.state.isInfo=!0,t.init(a)})).catch((function(a){t.infoLoading=!1,t.errorAction(a)})))},methods:{init:function(t){(t.contactName&&t.contactPhone&&t.contactEmail||t.reDateTimeRange||t.exDateTimeRange||t.city)&&this.$router.push({name:"Info"})},confirmBtn_click:function(){var t=this;this.$v.$touch(),this.$v.$error||(this.loading=!0,Object(s.b)(this.$store.state.token,this.data.contactName,this.data.contactPhone,this.data.contactEmail).then((function(a){t.loading=!1,t.$store.dispatch("setContact",{contactName:t.data.contactName,contactPhone:t.data.contactPhone,contactEmail:t.data.contactEmail}),t.$router.push({name:"Info"})})).catch((function(a){t.loading=!1,t.errorAction(a)})))}},computed:{}},v=(e(460),e(115)),f=Object(v.a)(u,i,[],!1,null,"314adf63",null);f.options.__file="src/vue/pages/Contact.vue";a.default=f.exports}}]);